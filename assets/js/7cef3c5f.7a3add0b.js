"use strict";(self.webpackChunkmymove_docs=self.webpackChunkmymove_docs||[]).push([[6518],{40633:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>i,toc:()=>m});var n=o(87462),r=(o(67294),o(3905));o(8209);const s={},a="Troubleshooting",i={unversionedId:"about/development/troubleshooting",id:"about/development/troubleshooting",title:"Troubleshooting",description:"- Random problems may arise if you have old Docker containers running. Run docker ps and if you see containers unrelated to our app, consider stopping them.",source:"@site/docs/about/development/troubleshooting.md",sourceDirName:"about/development",slug:"/about/development/troubleshooting",permalink:"/mymove-docs/docs/about/development/troubleshooting",draft:!1,editUrl:"https://github.com/transcom/mymove-docs/edit/main/docs/about/development/troubleshooting.md",tags:[],version:"current",frontMatter:{},sidebar:"aboutSidebar",previous:{title:"Testing",permalink:"/mymove-docs/docs/about/development/testing"},next:{title:"TSP Award Queue",permalink:"/mymove-docs/docs/about/development/tsp-award-queue"}},l={},m=[{value:"Postgres Issues",id:"postgres-issues",level:2},{value:"Development Machine Timezone Issues",id:"development-machine-timezone-issues",level:2},{value:"Linters &amp; Pre-commit Hooks",id:"linters--pre-commit-hooks",level:2}],u={toc:m},p="wrapper";function c(e){let{components:t,...o}=e;return(0,r.kt)(p,(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"troubleshooting"},"Troubleshooting"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Random problems may arise if you have old Docker containers running. Run ",(0,r.kt)("inlineCode",{parentName:"li"},"docker ps")," and if you see containers unrelated to our app, consider stopping them."),(0,r.kt)("li",{parentName:"ul"},"If you're having trouble accessing the API docs or the server is otherwise misbehaving, try stopping the server, running ",(0,r.kt)("inlineCode",{parentName:"li"},"make client_build"),", and then running ",(0,r.kt)("inlineCode",{parentName:"li"},"make client_run")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"make server_run"),".")),(0,r.kt)("h2",{id:"postgres-issues"},"Postgres Issues"),(0,r.kt)("p",null,"If you have problems connecting to PostgreSQL, or running related scripts, make sure you aren't already running a PostgreSQL daemon. You may see errors like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'Migrator: problem creating schema migrations: couldn\'t start a new transaction: could not create new transaction: pq: role "postgres" does not exist\n')),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'Migrator: problem creating schema migrations: couldn\'t start a new transaction: could not create new transaction: pq: database "dev_db" does not exist\n')),(0,r.kt)("p",null,"You can check this by typing ",(0,r.kt)("inlineCode",{parentName:"p"},"ps aux | grep postgres")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"brew services list")," and looking for existing processes. In the case of homebrew you can run ",(0,r.kt)("inlineCode",{parentName:"p"},"brew services stop postgresql")," to stop the service and prevent it from running at startup."),(0,r.kt)("h2",{id:"development-machine-timezone-issues"},"Development Machine Timezone Issues"),(0,r.kt)("p",null,"If you are experiencing problems like redux forms that are 'dirty' when they shouldn't be on your local environment, it may be due to a mismatch\nof your local dev machine's timezone and the assumption of UTC made by the local database. A detailed example of this sort of issue can be found in\n",(0,r.kt)("a",{parentName:"p",href:"https://www.pivotaltracker.com/n/projects/2136865/stories/160975609"},"this story"),". A workaround for this is to set the TZ environment variable\nin Mac OS for the context of your running app. This can be done by adding the following to ",(0,r.kt)("inlineCode",{parentName:"p"},".envrc.local"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'export TZ="UTC"\n')),(0,r.kt)("p",null,"Doing so will set the timezone environment variable to UTC utilizing the same localized context as your other ",(0,r.kt)("inlineCode",{parentName:"p"},".envrc.local")," settings."),(0,r.kt)("h2",{id:"linters--pre-commit-hooks"},"Linters & Pre-commit Hooks"),(0,r.kt)("p",null,"We use a number of linters for formatting, security and error checking. Please see the ",(0,r.kt)("a",{parentName:"p",href:"https://transcom.github.io/mymove-docs/docs/dev/contributing/code-analysis/run-pre-commit-hooks"},"pre-commit documentation")," for a list of linters and troubleshooting tips."))}c.isMDXComponent=!0}}]);