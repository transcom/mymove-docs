<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-backend/guides/open-telemetry">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Open Telemetry | MilMove Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/backend/guides/open-telemetry"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Open Telemetry | MilMove Developer Portal"><meta data-rh="true" name="description" content="The Milmove app has had aspects of logging (Zap), tracing (trace middleware), and monitoring (AWS infra dashboards) previously, but there is now ADR 0061 Open Telemetry library to standardize our efforts. While not solely useful just for load testing, it did expose our need for better insight into the performance of the Milmove app and it&#x27;s services."><meta data-rh="true" property="og:description" content="The Milmove app has had aspects of logging (Zap), tracing (trace middleware), and monitoring (AWS infra dashboards) previously, but there is now ADR 0061 Open Telemetry library to standardize our efforts. While not solely useful just for load testing, it did expose our need for better insight into the performance of the Milmove app and it&#x27;s services."><link data-rh="true" rel="icon" href="/mymove-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/backend/guides/open-telemetry"><link data-rh="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/backend/guides/open-telemetry" hreflang="en"><link data-rh="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/backend/guides/open-telemetry" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.65849403.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.2d8cf14e.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.72cd5155.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><div class="navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MilMove Documentation</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/adrs">ADRs</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/frontend">Frontend</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/backend">Backend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/integrations">Integrations</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/api">API</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/tools">Tools</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/index">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mymove-docs/docs/backend">MilMove Backend</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/backend/testing/acceptance-testing-syncada-edi-invoicing">Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/mymove-docs/docs/backend/guides/service-objects/overview">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/mymove-docs/docs/backend/guides/service-objects/overview">Service Objects</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/backend-structure">Backend Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/tariff400ng_items-update-data">Adding ShipmentLineItem records to the 400ng table (tariff400ng_items)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/database">Database Guides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/feature-flags-in-the-app">Feature flags in the app</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/mymove-docs/docs/backend/guides/ghc/ghc-invoicing">Global Household Goods Contract</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/mymove-docs/docs/backend/guides/how-to/add-an-event-trigger">How-to guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/troubleshoot-gex-connection">Troubleshoot GEX Connection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/tariff400ng-yearly-import">Importing tariff400ng data for the year</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/troubleshoot-precommit-hook-failures">Precommit Hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/route-planner">Route Planner Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/session-management">Session management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/roles-and-permissions">Roles and Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/switching-over-to-nix">Switching over to Nix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/golang-time">Time in Golang</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/golang-loops">Loop Iteration in Golang</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/tspp-data-creation">Turning TDL scores and TSP discounts into transportation service provider performances</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/use-optimistic-locking">What Is Optimistic Locking?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/zip-code-to-rate-area-mappings">Zip code to Rate area mappings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/wip-server-side-validation">WIP server-side validation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/debugging-sql-tests">Debugging SQL Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/guide-to-history-and-audit-logging">History and Audit Logging Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/backend/guides/open-telemetry">Open Telemetry</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/mymove-docs/docs/backend/guides/environment_variables/">Environment Variables</a><button aria-label="Toggle the collapsible sidebar category &#x27;Environment Variables&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/golang-guide">Golang Programming Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/understanding-milmove-routing">Understanding MilMove Routing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/backend/guides/use-stateless-services-with-app-context">AppContext: how and when to use it</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/backend/setup/configure-postico-or-tableplus-to-connect-to-mymove-db">Setup</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/mymove-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Open Telemetry</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Open Telemetry</h1><p>The Milmove app has had aspects of logging (Zap), tracing (trace middleware), and monitoring (AWS infra dashboards) previously, but there is now <a href="/mymove-docs/docs/adrs/use-opentelemetry-for-distributed-tracing">ADR 0061 Open Telemetry library</a> to standardize our efforts. While not solely useful just for load testing, it did expose our need for better insight into the performance of the Milmove app and it&#x27;s services.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-configuration">Environment configuration<a href="#environment-configuration" class="hash-link" aria-label="Direct link to Environment configuration" title="Direct link to Environment configuration">​</a></h3><p>Open Telemetry is configured like many of our features through environment
variables.  When the application binary is started in <code>cmd/milmove/serve.go</code> the
system reads if telemetry is enabled and also for which environment it is
running in (locally or <code>loadtesting</code> on AWS).</p><p><strong>Telemetry environment variables:</strong></p><table><thead><tr><th>Environment variable</th><th>Default value</th><th>Notes</th></tr></thead><tbody><tr><td>TELEMETRY_ENABLED</td><td>false</td><td>Enables telemetry</td></tr><tr><td>TELEMETRY_ENDPOINT</td><td><code>stdout</code></td><td>Endpoint for where to send traces and metrics, the default would be the console. An HTTP and/or GPRC endpoint <code>host:port</code> where exports are sent.</td></tr><tr><td>TELEMETRY_USE_XRAY_ID</td><td>false</td><td>When telemetry is used in a deployed AWS environment this needs to be set to true so that trace IDs are formatted properly. This way the same request can be correlated across the firewall WAF, Load Balancer, and ECS service if needed.</td></tr><tr><td>TELEMETRY_SAMPLING_FRACTION</td><td>.5</td><td>Recording every log would bog down the application so we only want to send a representative fraction of all logs.  When developing locally setting to <code>1</code> would mean every log is sent.</td></tr><tr><td>TELEMETRY_COLLECT_SECONDS</td><td>30</td><td>The interval in seconds between calls to collect metrics.</td></tr></tbody></table><p>When <a href="/mymove-docs/docs/tools/telemetry/running-telemetry-locally">running telemetry locally</a> with the open telemetry collector stack (defined in docker-compose.telemetry.yaml), the development configuration used is that of <code>config/telemetry/collector-config.dev.yaml</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="go-package">Go package<a href="#go-package" class="hash-link" aria-label="Direct link to Go package" title="Direct link to Go package">​</a></h3><p>The main initialization code for registering telemetry can be found in <code>pkg/telemetry/init.go</code></p><p>The custom code for collecting database connection stats also lives within the package at <code>pkg/telemetry/db.go</code>.</p><p>The code for hooking into the Go runtime library for memory stats lives within the package at <code>pkg/telemetry/runtime.go</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="instrumentation">Instrumentation<a href="#instrumentation" class="hash-link" aria-label="Direct link to Instrumentation" title="Direct link to Instrumentation">​</a></h3><p>The ecosystem of Open Telemetry comes with many built in and 3rd party libraries for plugging into our existing code with little or no customization.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="routing">Routing<a href="#routing" class="hash-link" aria-label="Direct link to Routing" title="Direct link to Routing">​</a></h4><p>Milmove uses the Gorilla Mux router so we can use the existing <a href="https://github.com/open-telemetry/opentelemetry-go-contrib/tree/main/instrumentation/github.com/gorilla/mux/otelmux" target="_blank" rel="noopener noreferrer">Open Telemetry
Mux library</a> middleware for our non-swagger routes.</p><div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">router.Use(otelmux.Middleware(&quot;auth&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-handler">HTTP handler<a href="#http-handler" class="hash-link" aria-label="Direct link to HTTP handler" title="Direct link to HTTP handler">​</a></h4><p>Similar to the otelmux library the <a href="https://github.com/trussworks/otelhttp" target="_blank" rel="noopener noreferrer">Open Telemetry HTTP
library</a> is designed to wrap HTTP
handler functions. It has built in events (read &amp; write) to report the request
size, response size, and duration of the HTTP request.  It is more configurable
than the <code>otelmux</code> middleware allowing you to filter out certain routes and other
controls.</p><div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">otelhttp.NewHandler(router, &quot;server-tls&quot;, []otelHTTP.Option{otelHTTP.ReadEvents, otelHTTP.WriteEvents})</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: This implementation has been forked to the Trussworks GitHub to address bug fixes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Direct link to SQL" title="Direct link to SQL">​</a></h4><p>The <a href="https://github.com/XSAM/otelsql" target="_blank" rel="noopener noreferrer"><code>XSAM/otelsql</code></a> library wraps the queries to
our Postgres database and appends a span to the trace with the statement and
duration information.  Query parameters may be hidden to not log sensitive
information.  It can also be used to log calls to cursor rows when paging
through larger result sets.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="go">Go<a href="#go" class="hash-link" aria-label="Direct link to Go" title="Direct link to Go">​</a></h4><p>The <a href="https://github.com/open-telemetry/opentelemetry-go-contrib/tree/main/instrumentation/runtime" target="_blank" rel="noopener noreferrer">Go runtime instrumentation library</a> primarily provides statistics on memory usage and garbage collection cycles that may degrade performance.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-collection">Data collection<a href="#data-collection" class="hash-link" aria-label="Direct link to Data collection" title="Direct link to Data collection">​</a></h2><p>Data from the MilMove app is sent to the Open Telemetry collector, which processes the trace, metric, and log data and exports it to the services of our choice.  In AWS the collector exports to the CloudWatch and AWS X-Ray services for storage and analysis.  When run locally the data is exported to the Elastic APM Server running Elasticsearch and Kibana.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="traces">Traces<a href="#traces" class="hash-link" aria-label="Direct link to Traces" title="Direct link to Traces">​</a></h3><p>A trace can be thought of as a tree linked structure of one or more spans that represent a segment of time.  A single trace may contain child spans that include the duration of the HTTP API request on the server and span(s) for the database calls within that lifecycle.  <a href="https://opentelemetry.io/docs/reference/specification/trace/semantic_conventions/" target="_blank" rel="noopener noreferrer">The Open Telemetry specification</a> defines semantic conventions that our libraries primarily follow for span attribute names and values.</p><p><strong>Common Trace fields</strong></p><ul><li>ID</li><li>Parent ID</li><li>Trace ID</li><li>Name</li><li>Kind</li><li>Start time</li><li>End time</li><li>Status code</li><li>Status message</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http-requests">HTTP Requests<a href="#http-requests" class="hash-link" aria-label="Direct link to HTTP Requests" title="Direct link to HTTP Requests">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">http.client_ip</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.flavor</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.host</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.method</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.scheme</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.server_name</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.status_code</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.target</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.user_agent</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">http.wrote_bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">net.host_ip</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">net.host_port</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">net.peer_ip</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">net.peer_port</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">net.transport</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-sql-statements">Database SQL Statements<a href="#database-sql-statements" class="hash-link" aria-label="Direct link to Database SQL Statements" title="Direct link to Database SQL Statements">​</a></h4><p>Spans/segments will be added to the current trace when database queries (Select) or executions (Update/Insert) are made within a request.</p><p><strong>sql.conn.exec</strong> (Update/Insert statements)</p><ul><li>db.statement</li></ul><p><strong>sql.conn.query</strong> (Select statements)</p><ul><li>db.system</li><li>db.statement</li></ul><p><strong>sql.rows</strong> (When using a rows cursor to iterate through database results)</p><ul><li>db.system</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics">Metrics<a href="#metrics" class="hash-link" aria-label="Direct link to Metrics" title="Direct link to Metrics">​</a></h3><p>Open Telemetry defines three primary metric instrument types to be counters, measures, and observers.  Metric events should conform to the <a href="https://opentelemetry.io/docs/reference/specification/overview/#metric-signal" target="_blank" rel="noopener noreferrer">metrics specification</a>, which supports both non-aggregated and pre-aggregated measurements.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="http">HTTP<a href="#http" class="hash-link" aria-label="Direct link to HTTP" title="Direct link to HTTP">​</a></h4><p>HTTP Request Count</p><ul><li>HTTP Protocol Version</li><li>Host</li><li>Scheme</li><li>Server Name (TLS/MTLS/No-TLS)</li><li>Status Code</li><li>Target (URL path)</li></ul><p>HTTP Request Content Length</p><ul><li>HTTP Protocol Version</li><li>Host</li><li>Scheme</li><li>Server Name (TLS/MTLS/No-TLS)</li><li>Target (URL path)</li></ul><p>HTTP Response Content Length</p><ul><li>HTTP Protocol Version</li><li>Host</li><li>Scheme</li><li>Server Name (TLS/MTLS/No-TLS)</li><li>Target (URL path)</li></ul><p>HTTP Duration</p><ul><li>HTTP Protocol Version</li><li>Host</li><li>Scheme</li><li>Server Name (TLS/MTLS/No-TLS)</li><li>Target (URL path)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="database-connections">Database Connections<a href="#database-connections" class="hash-link" aria-label="Direct link to Database Connections" title="Direct link to Database Connections">​</a></h4><p>Database Pool Connections</p><ul><li>Inuse</li><li>Idle</li><li>Wait Duration</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="go-runtime">Go Runtime<a href="#go-runtime" class="hash-link" aria-label="Direct link to Go Runtime" title="Direct link to Go Runtime">​</a></h4><p>Copied from <a href="https://github.com/open-telemetry/opentelemetry-go-contrib/blob/main/instrumentation/runtime/doc.go" target="_blank" rel="noopener noreferrer">https://github.com/open-telemetry/opentelemetry-go-contrib/blob/main/instrumentation/runtime/doc.go</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.cgo.calls         -          Number of cgo calls made by the current process</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.gc.count          -          Number of completed garbage collection cycles</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.gc.pause_ns       (ns)       Amount of nanoseconds in GC stop-the-world pauses</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.gc.pause_total_ns (ns)       Cumulative nanoseconds in GC stop-the-world pauses since the program started</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.goroutines        -          Number of goroutines that currently exist</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.lookups           -          Number of pointer lookups performed by the runtime</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.heap_alloc    (bytes)    Bytes of allocated heap objects</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.heap_idle     (bytes)    Bytes in idle (unused) spans</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.heap_inuse    (bytes)    Bytes in in-use spans</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.heap_objects  -          Number of allocated heap objects</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.heap_released (bytes)    Bytes of idle spans whose physical memory has been returned to the OS</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.heap_sys      (bytes)    Bytes of heap memory obtained from the OS</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.mem.live_objects  -          Number of live objects is the number of cumulative Mallocs - Frees</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">runtime.go.runtime.uptime    (ms)       Milliseconds since application was initialized</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="aws-container-metrics">AWS Container Metrics<a href="#aws-container-metrics" class="hash-link" aria-label="Direct link to AWS Container Metrics" title="Direct link to AWS Container Metrics">​</a></h4><p>All containers running on AWS ECS can access container level metrics including
memory, CPU, network, and storage usage. In the <a href="https://aws-otel.github.io/docs/components/ecs-metrics-receiver" target="_blank" rel="noopener noreferrer">AWS OTEL
collector</a> we
connect the receiver and exporter to send data from the container through to
Cloudwatch.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">Task Level Metrics              Container Level               Metrics Unit</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.memory.usage           container.memory.usage        Bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.memory.usage.max       container.memory.usage.max    Bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.memory.usage.limit     container.memory.usage.limit  Bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.memory.reserved        container.memory.reserved     Megabytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.memory.utilized        container.memory.utilized     Megabytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.usage.total        container.cpu.usage.total       Nanoseconds</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.usage.kernelmode   container.cpu.usage.kernelmode  Nanoseconds</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.usage.usermode     container.cpu.usage.usermode    Nanoseconds</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.usage.system       container.cpu.usage.system      Nanoseconds</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.usage.vcpu         container.cpu.usage.vcpu        vCPU</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.cores              container.cpu.cores             Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.onlines            container.cpu.onlines           Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.reserved           container.cpu.reserved          vCPU</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.cpu.utilized           container.cpu.utilized          Percent</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.rate.rx              container.network.rate.rx             Bytes/Second</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.rate.tx              container.network.rate.tx             Bytes/Second</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.rx_bytes    container.network.io.usage.rx_bytes   Bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.rx_packets  container.network.io.usage.rx_packets Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.rx_errors   container.network.io.usage.rx_errors  Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.rx_dropped  container.network.io.usage.rx_dropped Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.tx_bytes    container.network.io.usage.tx_bytes   Bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.tx_packets  container.network.io.usage.tx_packets Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.tx_errors   container.network.io.usage.tx_errors  Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.network.io.usage.tx_dropped  container.network.io.usage.tx_dropped Count</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.storage.read_bytes   container.storage.read_bytes  Bytes</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">ecs.task.storage.write_bytes  container.storage.write_bytes Bytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="elasticache-redis">Elasticache (Redis)<a href="#elasticache-redis" class="hash-link" aria-label="Direct link to Elasticache (Redis)" title="Direct link to Elasticache (Redis)">​</a></h4><p>The Milmove app uses a Redis cache to store session data for auth purposes.  I omitted some of the credit balance metrics that infra uses but the full documentation is available here <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/CacheMetrics.Redis.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/CacheMetrics.Redis.html</a>.</p><ul><li>ActiveDefragHits</li><li>BytesUsedForCache</li><li>CacheHitRate</li><li>CacheHits</li><li>CacheMisses</li><li>CPUUtilization</li><li>CurrConnections</li><li>CurrItems</li><li>DatabaseMemoryUsagePercentage</li><li>DBOAveerageTTL</li><li>EngineCPUUtilization</li><li>Evictions</li><li>FreeableMemory</li><li>GetTypeCmds</li><li>GetTypeCmdsLatency</li><li>IsMaster</li><li>KeyBasedCmds</li><li>KeyBasedCmdsLatency</li><li>MasterLinkHealthStatus</li><li>MemoryFragmentationRatio</li><li>NetworkBytesIn</li><li>NetworkBytesOut</li><li>NetworkPacketsin</li><li>NetworkPacketsout</li><li>NewConnections</li><li>Reclaimed</li><li>ReplicationBytes</li><li>ReplicationLag</li><li>SaveInProgress</li><li>SetTypeCmds</li><li>SetTypeCmdsLatency</li><li>StringBasedCmds</li><li>StringBasedCmdsLatency</li><li>SwapUsage</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h3><p><a href="https://opentelemetry.io/" target="_blank" rel="noopener noreferrer">Open Telemetry Homepage</a></p><p><a href="https://opentelemetry.io/docs/go/" target="_blank" rel="noopener noreferrer">Open Telemetry for Golang</a></p><p><a href="https://aws-otel.github.io/" target="_blank" rel="noopener noreferrer">AWS Open Telemetry Docs</a></p><p><a href="https://www.elastic.co/observability/application-performance-monitoring" target="_blank" rel="noopener noreferrer">Elastic Application Performance Monitoring</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/backend/guides/open-telemetry.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mymove-docs/docs/backend/guides/guide-to-history-and-audit-logging"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">History and Audit Logging Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mymove-docs/docs/backend/guides/environment_variables/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Environment Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a><ul><li><a href="#environment-configuration" class="table-of-contents__link toc-highlight">Environment configuration</a></li><li><a href="#go-package" class="table-of-contents__link toc-highlight">Go package</a></li><li><a href="#instrumentation" class="table-of-contents__link toc-highlight">Instrumentation</a></li></ul></li><li><a href="#data-collection" class="table-of-contents__link toc-highlight">Data collection</a><ul><li><a href="#traces" class="table-of-contents__link toc-highlight">Traces</a></li><li><a href="#metrics" class="table-of-contents__link toc-highlight">Metrics</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About MilMove</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/adrs">Architecture Decision Records</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tools">Tools</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">MilMove Documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="footer__link-item">MilMove GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2023  U.S. Federal Government (in countries where recognized) and TrussWorks. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.2d8cf14e.js"></script>
<script src="/mymove-docs/assets/js/main.72cd5155.js"></script>
</body>
</html>