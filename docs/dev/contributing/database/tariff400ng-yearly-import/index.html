<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.5">
<title data-react-helmet="true">Importing tariff400ng data for the year | MilMove Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/dev/contributing/database/tariff400ng-yearly-import"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Importing tariff400ng data for the year | MilMove Developer Portal"><meta data-react-helmet="true" name="description" content="Related PRs"><meta data-react-helmet="true" property="og:description" content="Related PRs"><link data-react-helmet="true" rel="shortcut icon" href="/mymove-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/dev/contributing/database/tariff400ng-yearly-import"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/dev/contributing/database/tariff400ng-yearly-import" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/dev/contributing/database/tariff400ng-yearly-import" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.2fa8fb56.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.f16df87a.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.a801a988.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">MilMove.dev</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">APIs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/mymove-docs/api/prime">Prime</a></li><li><a class="dropdown__link" href="/mymove-docs/api/support">Support</a></li></ul></div><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/mymove-docs/docs/">MilMove Developer Docs</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Getting Started</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/getting-started/Designers-guide-to-setting-up-app-locally">Designers&#x27;s guide to setting up app locally</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/getting-started/How-to-Test-the-Prime-API">How to Test the Prime API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/getting-started/How-to-view-a-move-or-payment-request-in-the-office-app-as-a-TOO-or-TIO">How to view a move or payment request in the office app as a TOO or TIO</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Contributing</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Frontend</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Backend</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Database</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/">Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/Backup-and-Restore-Dev-Database">How To Backup and Restore the Development Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/Database-Migrations">How to Migrate the Database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/How-database-cleanup-works-in-Go-server-tests">How-database-cleanup-works-in-Go-server-tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/Zip-Code-to-Rate-Area-Mappings">Zip-Code-to-Rate-Area-Mappings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/database">Database Guides</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/ghc-pricing-import">How to run the GHC Pricing Import and Verify Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/ghc-transit-time-import">How to run the GHC Transit Time Import and Verify Data</a></li><li class="menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/tariff400ng-yearly-import">Importing tariff400ng data for the year</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/tariff400ng_items-update-data">Adding `ShipmentLineItem` records to the 400ng table (`tariff400ng_items`)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/dev/contributing/database/tspp-data-creation">Turning TDL scores and TSP discounts into transportation service provider performances</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Code Analysis</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Testing</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Versioning</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Demo</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1>Importing tariff400ng data for the year</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="related-prs"></a>Related PRs<a class="hash-link" href="#related-prs" title="Direct link to heading">#</a></h2><p>For reference, here are the PRs from previous year&#x27;s imports:</p><ul><li>2018 data load (multiple PRs): <a href="https://github.com/transcom/mymove/pull/338" target="_blank" rel="noopener noreferrer">338</a>, <a href="https://github.com/transcom/mymove/pull/382" target="_blank" rel="noopener noreferrer">382</a>,
<a href="https://github.com/transcom/mymove/pull/1286" target="_blank" rel="noopener noreferrer">1286</a>, <a href="https://github.com/transcom/mymove/pull/1313" target="_blank" rel="noopener noreferrer">1313</a></li><li>2019 data load (multiple PRs): <a href="https://github.com/transcom/mymove/pull/2036" target="_blank" rel="noopener noreferrer">2036</a>, <a href="https://github.com/transcom/mymove/pull/2060" target="_blank" rel="noopener noreferrer">2060</a></li><li><a href="https://github.com/transcom/mymove/pull/3845" target="_blank" rel="noopener noreferrer">2020 data load</a>: Note that this one is different than the others because
it doesn&#x27;t use <code>uuid_generate_v4</code> (to keep UUIDs the same across all environments)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="tables-that-need-to-be-updated-with-the-new-data"></a>Tables that need to be updated with the new data<a class="hash-link" href="#tables-that-need-to-be-updated-with-the-new-data" title="Direct link to heading">#</a></h2><ol><li><code>tariff400ng_full_pack_rates</code></li><li><code>tariff400ng_full_unpack_rates</code></li><li><code>tariff400ng_linehaul_rates</code></li><li><code>tariff400ng_service_areas</code></li><li><code>tariff400ng_shorthaul_rates</code></li><li><code>tariff400ng_item_rates</code></li><li><code>tariff400ng_zip3s</code>: This table is not scoped by date like the others above, but you should try to sync
it up with the spreadsheet in case any zips or service areas have changed.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="obtain-yearly-rates-xlsx-file-from-ustranscom"></a>Obtain yearly rates <code>xlsx</code> file from USTRANSCOM<a class="hash-link" href="#obtain-yearly-rates-xlsx-file-from-ustranscom" title="Direct link to heading">#</a></h2><ol><li>Visit: <a href="https://www.ustranscom.mil/dp3/hhg.cfm" target="_blank" rel="noopener noreferrer">https://www.ustranscom.mil/dp3/hhg.cfm</a> (for some reason, I had to load hit this url twice... the first visit redirected to another page).</li><li>Look under ‚ÄúSpecial Requirements and Rates Team‚Äù -&gt; ‚ÄúDomestic‚Äù -&gt; ‚Äú400NG Baseline Rates‚Äù and download yearly rate file.</li><li>Copy the file to USTC MilMove Google drive: USTC MilMove -&gt; Data -&gt; Rate Engine pre GHC</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="importing-full_packs-full_unpacks-linehauls-service_areas-and-shorthauls"></a>Importing <code>full_packs</code>, <code>full_unpacks</code>, <code>linehauls</code>, <code>service_areas</code>, and <code>shorthauls</code><a class="hash-link" href="#importing-full_packs-full_unpacks-linehauls-service_areas-and-shorthauls" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="extract-data-from-xlsx-file-via-ruby-scripts"></a>Extract data from <code>xlsx</code> file via <code>Ruby</code> scripts<a class="hash-link" href="#extract-data-from-xlsx-file-via-ruby-scripts" title="Direct link to heading">#</a></h3><ol><li><p>Clone the Truss fork of the <a href="https://github.com/trussworks/move.mil" target="_blank" rel="noopener noreferrer">move.mil repository</a></p></li><li><p>Run <code>bin/setup</code> on the command line and make sure there were no errors in populating the seed data.</p></li><li><p>Add the new <code>xlsx</code> file to the <code>lib/data</code> directory in the following format: <code>{YEAR} 400NG Baseline Rate.xlsx</code>.</p></li><li><p>Open <code>db/seeds.rb</code></p></li><li><p>Near the bottom of the file, you&#x27;ll see some commented code that imports baseline rates for previous years. Add the following and change the date range as needed:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">puts &#x27;-- Seeding 2020 400NG baseline rates...&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Seeds::BaselineRates.new(</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  date_range: Range.new(Date.parse(&#x27;2020-05-15&#x27;), Date.parse(&#x27;2021-05-14&#x27;)),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  file_path: Rails.root.join(&#x27;lib&#x27;, &#x27;data&#x27;, &#x27;2020 400NG Baseline Rates.xlsx&#x27;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">).seed!</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></li><li><p>Run <code>rails db:reset</code> to drop the database, re-run migrations, and re-run the seeds import.  You may want to run
Postgres on a different port than the default (5432) if you want to have your milmove DB up at the same time.</p></li><li><p>Dump the tables: <code>pg_dump --inserts -t full_packs -t full_unpacks -t linehauls -t service_areas -t shorthauls --no-owner --no-tablespaces move_mil_development &gt; 400ng_temp_tables.sql</code> .
Add in <code>-p &lt;port&gt;</code> if you used a different port for Postgres.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="load-dumped-tables-into-local-database"></a>Load dumped tables into local database<a class="hash-link" href="#load-dumped-tables-into-local-database" title="Direct link to heading">#</a></h3><p>Given that we want to predetermine the UUIDs for all inserted rows, we will use our local <code>dev_db</code> as a staging
area for the import, then use <code>pg_dump</code> to create the migration after we&#x27;re done with all transformations.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="setup-local-database"></a>Setup local database<a class="hash-link" href="#setup-local-database" title="Direct link to heading">#</a></h4><ol><li>Go to your local <code>milmove</code> clone.</li><li>Reset your local database: <code>make db_dev_reset db_dev_migrate</code>.</li><li>Drop the contents of the tariff tables we&#x27;re going to be importing (so we can later <code>pg_dump</code> their entire contents):<ol><li>Run <code>psql-dev</code></li><li>In psql, run: <code>truncate tariff400ng_full_pack_rates, tariff400ng_full_unpack_rates, tariff400ng_item_rates, tariff400ng_linehaul_rates, tariff400ng_service_areas, tariff400ng_shorthaul_rates;</code></li></ol></li><li>Import the data you dumped from the Ruby-generated database by doing: <code>\i path/to/400ng_temp_tables.sql</code><ol><li>If the above command fails with an &quot;unrecognized configuration parameter&quot;, try commenting out the corresponding <code>SET</code> line near the top of the SQL file. You may have a mismatch between the Postgres version used for the export and the one used for the import.</li></ol></li><li>You should now have both the MilMove <code>tariff400ng_*</code> tables (empty) as well as the new temp tables generated above.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="transform-to-our-schema"></a>Transform to our schema<a class="hash-link" href="#transform-to-our-schema" title="Direct link to heading">#</a></h4><p>The next phase is to transform the temporary tables into the format expected by our <code>tariff400ng_*</code> tables.
To do so, you can run the script below.  Save it as <code>tariff400ng_cleanup.sql</code> and run it in psql: <code>\i tariff400ng_cleanup.sql</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Pack rates</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> tariff400ng_full_pack_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid_generate_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    schedule</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">weight_lbs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> weight_lbs_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">weight_lbs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> weight_lbs_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rate_cents</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> full_packs</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Unpack rates</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> tariff400ng_full_unpack_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid_generate_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    schedule</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rate_millicents</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> full_unpacks</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Linehaul</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> tariff400ng_linehaul_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid_generate_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dist_mi</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> distance_miles_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dist_mi</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> distance_miles_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">weight_lbs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> weight_lbs_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">weight_lbs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> weight_lbs_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rate_cents</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TEXT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> linehauls</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Service areas</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> tariff400ng_service_areas</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid_generate_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    service_area</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    services_schedule</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">linehaul_factor </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> linehaul_factor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">orig_dest_service_charge </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> service_charge_cents</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> service_areas</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- Shorthauls</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTO</span><span class="token plain"> tariff400ng_shorthaul_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    uuid_generate_v4</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cwt_mi</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> cwt_miles_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cwt_mi</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> cwt_miles_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CAST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rate </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INTEGER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> rate_cents</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    LOWER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_lower</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    UPPER</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">effective</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> effective_date_upper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    created_at</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    updated_at</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> shorthauls</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>At this point, stop to spot check that all <code>tariff400ng_*</code> tables have the number of records that
you would expect based on the contents of the Ruby-generated tables as well as the source spreadsheet.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="add-additional-sit-data-to-tariff400ng_service_areas-table"></a>Add additional <code>sit</code> data to <code>tariff400ng_service_areas</code> table<a class="hash-link" href="#add-additional-sit-data-to-tariff400ng_service_areas-table" title="Direct link to heading">#</a></h2><p>The extracted data from the Ruby scripts doesn&#x27;t contain all the data we need.
We also need <code>185A SIT First Day &amp; Whouse</code>, <code>185B SIT Addl Days</code>, and <code>SIT PD Schedule</code>
found on the <code>Geographical Schedule</code> sheet.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="adding-data"></a>Adding data<a class="hash-link" href="#adding-data" title="Direct link to heading">#</a></h3><p>From the <code>Geographical Schedule</code> sheet, copy the service area number, 185A, 185B, and SIT PD Schedule columns and
transform it into the <code>SELECT</code> statements in the template below.  Save this completed template to a
<code>tariff400ng_fix_service_areas.sql</code> file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FUNCTION</span><span class="token plain"> update_sit_rates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    service_area_number </span><span class="token keyword" style="color:#00009f">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    sit_185a_rate_cents </span><span class="token keyword" style="color:#00009f">integer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    sit_185b_rate_cents </span><span class="token keyword" style="color:#00009f">integer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    sit_pd_schedule </span><span class="token keyword" style="color:#00009f">integer</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">RETURNS</span><span class="token plain"> void </span><span class="token keyword" style="color:#00009f">language</span><span class="token plain"> plpgsql </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> $$</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">BEGIN</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> tariff400ng_service_areas</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sit_185A_rate_cents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sit_185B_rate_cents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sit_pd_schedule </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> tariff400ng_service_areas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service_area </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> tariff400ng_service_areas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">effective_date_lower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2020-05-15&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> $$</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> update_sit_rates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;4&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2004</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">070</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> update_sit_rates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;8&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1538</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">048</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- More rows here</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">DROP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FUNCTION</span><span class="token plain"> update_sit_rates</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>A few notes:</p><ul><li>There are many ways to do this transformation depending on your preferred tools.  One way is to download a CSV from
the <code>Geographical Schedule</code> sheet, load that into Numbers locally, then just copy the four columns of interest to GoLand.
Then, you can use GoLand to search and replace using a regex to transform it to the needed format.  Example regex search and replace:
<code>^([0-9]+)\t+\$([0-9]+)\.([0-9]+)\t+\$([0-9]+)\.([0-9]+)\t+([0-9])</code> to <code>SELECT update_sit_rates(&#x27;$1&#x27;, $2$3, $4$5, $6);</code></li><li>Note that the rates in the document are in dollars, but we store the rates in cents in our <code>tariff400ng_service_areas</code> table,
so make sure you adjust accordingly.</li><li>Run this sql file with psql by either doing <code>psql-dev &lt; tariff400ng_fix_service_areas.sql</code> or (if already in psql)
<code>\i tariff400ng_fix_service_areas.sql</code> .</li></ul><p>Spot check the <code>tariff400ng_service_areas</code> table to make sure the data is as expected.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="importing-item_rates"></a>Importing <code>item_rates</code><a class="hash-link" href="#importing-item_rates" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="transform-data-from-xlsx-file"></a>Transform data from <code>xlsx</code> file<a class="hash-link" href="#transform-data-from-xlsx-file" title="Direct link to heading">#</a></h3><p>We&#x27;re going to make use of the work that Patrick Stanger delivered in <a href="https://github.com/transcom/mymove/pull/1286" target="_blank" rel="noopener noreferrer">this PR</a>.</p><ol><li>Open <a href="https://docs.google.com/spreadsheets/d/1Zp--NWMr6VYrRlCn8Bi4_Ab4wXFKjxYl/edit#gid=1235758365" target="_blank" rel="noopener noreferrer">this google sheet</a> alongside the 400ng data you have received for the upcoming year.</li><li>Visit the <code>Accessorials</code> tab in both spreadsheets.</li><li>In the new data sheet, within the main section and the Alaska waterhaul section, copy all the values to the left of where it says &quot;weight&quot;. Start with the cells marked in the screenshot below:
<img alt="accessorials sheet" src="/mymove-docs/assets/images/accessorials_spreadsheet-4ed6b9d28908049301f081ca7bbdf74d.png"></li><li>Paste those values into the corresponding <code>Accessorials</code> tab in the other sheet.</li><li>Repeat this same process for the <code>Additional Rates</code> tab. Starting at the cell marked in the screenshot below:
<img alt="additional rates sheet" src="/mymove-docs/assets/images/additional_rates_spreadsheet-70f3b09ff87592e9cae1a7a6892ee59d.png"></li><li>Head over to the <code>migration work</code> tab. Here, you&#x27;ll find that queries have been generated for you to insert records into the <code>milmove</code> database.</li><li>Change the <code>effective_date_lower</code> and <code>effective_date_upper</code> in row 2 to be the correct dates.</li><li>Copy all of the values in the <code>query</code> column for both the <code>Additional Rates</code> table at the top of the sheet and the <code>Accessorials</code> table below it to
a file called <code>tariff400ng_item_rates.sql</code>.  A few rows may have &quot;#REF!&quot; errors due to 125B/125D no longer being included on the <code>Accessorials</code> tab unlike
previous years; you should skip those.</li><li>Run <code>tariff400ng_item_rates.sql</code> against your local database as you&#x27;ve done with other SQL files.</li></ol><p>Spot check the <code>tariff400ng_item_rates</code> table to make sure the data is as expected.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="fix-certain-item-rates-update-weight_lbs_lower-and-update-rate_cents-for-specific-codes"></a>Fix certain item rates. Update <code>weight_lbs_lower</code> and update <code>rate_cents</code> for specific codes<a class="hash-link" href="#fix-certain-item-rates-update-weight_lbs_lower-and-update-rate_cents-for-specific-codes" title="Direct link to heading">#</a></h3><p>There are a few item rates whose values are not correctly interpreted correctly by the spreadsheet.  These can be
fixed by running this SQL script against your local database (alternatively, you could address this in the spreadsheet
prior to inserting it into the database):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- These charges are subject to a min of 1,000lbs, so that rate should apply to weights &lt; 1,000 also</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> tariff400ng_item_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> weight_lbs_lower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> weight_lbs_lower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;125A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;125C&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;210A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;210D&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;225A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;225B&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> effective_date_lower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2020-05-15&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- These rates were assumed to be listed in cents but they were in dollars, though they were already scaled by 10</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- because they contained decimal values</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> tariff400ng_item_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> rate_cents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rate_cents </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;125C&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;210D&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;225B&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> effective_date_lower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2020-05-15&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- These rates were assumed to be listed in cents but they were in dollars</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> tariff400ng_item_rates</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> rate_cents </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rate_cents </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;125A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;210A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;225A&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> effective_date_lower </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2020-05-15&#x27;</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Spot check the <code>tariff400ng_item_rates</code> table to make sure the data is as expected after these fixes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="prepare-the-migration"></a>Prepare the migration<a class="hash-link" href="#prepare-the-migration" title="Direct link to heading">#</a></h2><p>Now we should have all the data imported, transformed, and cleaned.  We can now dump the appropriate tables that
will ultimately become our migration:</p><p><code>pg_dump -t tariff400ng_full_pack_rates -t tariff400ng_full_unpack_rates -t tariff400ng_item_rates -t tariff400ng_linehaul_rates -t tariff400ng_service_areas -t tariff400ng_shorthaul_rates --no-owner --no-tablespaces -h localhost -U postgres -W --data-only dev_db &gt; new_2020_400ng_data.sql</code></p><p><a href="/mymove-docs/docs/dev/contributing/database/migrate-the-database.md#creating-a-migration">Create a new migration</a> using the usual process and copy this data into it.</p><p>Note that we use the <code>COPY</code> mechanism here to insert rows into the database -- this is much faster than <code>INSERT</code> on
large data sets.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="sync-zip3s-and-service-areas"></a>Sync zip3s and service areas<a class="hash-link" href="#sync-zip3s-and-service-areas" title="Direct link to heading">#</a></h2><p>The <code>Base Point City</code> tab of the 400NG spreadsheet contains zip3s, service areas, and base point cities/states.
Using your preferred tools, compare this data against the current state of the <code>tariff400ng_zip3s</code> table to see if
any corrections/additions/deletions need to be made.</p><p>This query may be helpful in getting the current table into a format that&#x27;s similar to the spreadsheet to make
diffs easier:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sql"><pre tabindex="0" class="prism-code language-sql codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> basepoint_city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> service_area</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> string_agg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">zip3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;,&#x27;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> zip3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tariff400ng_zip3s</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> basepoint_city</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> service_area</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> basepoint_city</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If there are any changes to be made, make a separate migration to address and include in your PR.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="run-your-new-migrations"></a>Run your new migration(s)<a class="hash-link" href="#run-your-new-migrations" title="Direct link to heading">#</a></h2><p>Now we can test out our migration(s) by resetting and migrating our local database.
If you want to be able to get back to the current state of your database,
consider using our <code>db-backup</code> script to make a backup before you begin (<code>db-restore</code> can restore it later).</p><p>Once you&#x27;re ready, run <code>make db_dev_reset db_dev_migrate</code> and make sure it completes successfully.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="spot-check-for-correct-data"></a>Spot check for correct data<a class="hash-link" href="#spot-check-for-correct-data" title="Direct link to heading">#</a></h2><p>Ensure the data loaded looks correct by checking a count of row numbers grouped by date.</p><ol><li><p><code>select effective_date_lower, effective_date_upper, count(*) from tariff400ng_full_pack_rates group by effective_date_lower, effective_date_upper order by effective_date_lower DESC;</code></p></li><li><p><code>select effective_date_lower, effective_date_upper, count(*) from tariff400ng_full_unpack_rates group by effective_date_lower, effective_date_upper order by effective_date_lower DESC;</code></p></li><li><p><code>select effective_date_lower, effective_date_upper, count(*) from tariff400ng_item_rates group by effective_date_lower, effective_date_upper order by effective_date_lower DESC;</code></p></li><li><p><code>select effective_date_lower, effective_date_upper, count(*) from tariff400ng_linehaul_rates group by effective_date_lower, effective_date_upper order by effective_date_lower DESC;</code></p></li><li><p><code>select effective_date_lower, effective_date_upper, count(*) from tariff400ng_service_areas group by effective_date_lower, effective_date_upper order by effective_date_lower DESC;</code></p></li><li><p><code>select effective_date_lower, effective_date_upper, count(*) from tariff400ng_shorthaul_rates group by effective_date_lower, effective_date_upper order by effective_date_lower DESC;</code></p></li></ol><p>Also, look at the data in the context of previous year&#x27;s data to see if the format/trends look reasonable:</p><ol><li><p><code>select * from tariff400ng_full_pack_rates order by weight_lbs_lower, schedule, effective_date_lower;</code></p></li><li><p><code>select * from tariff400ng_full_unpack_rates order by schedule, effective_date_lower;</code></p></li><li><p><code>select * from tariff400ng_item_rates where schedule is null order by code, schedule, weight_lbs_lower, effective_date_lower;</code></p></li><li><p><code>select * from tariff400ng_item_rates where schedule is not null order by code, schedule, weight_lbs_lower, effective_date_lower;</code></p></li><li><p><code>select * from tariff400ng_linehaul_rates order by distance_miles_lower, weight_lbs_lower, type, effective_date_lower;</code></p></li><li><p><code>select * from tariff400ng_service_areas order by service_area, effective_date_lower;</code></p></li><li><p><code>select * from tariff400ng_shorthaul_rates order by cwt_miles_lower, effective_date_lower;</code></p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="test"></a>Test<a class="hash-link" href="#test" title="Direct link to heading">#</a></h2><ol><li>Deploy branch in <code>experimental</code>.</li><li>Create a move for a date that is between the <code>effective_date_lower</code> and <code>effective_date_upper</code>.</li><li>Watch the console and ensure the app doesn&#x27;t throw any errors.</li></ol></div><footer class="docusaurus-mt-lg"><div class="row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/dev/contributing/database/tariff400ng-yearly-import.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/mymove-docs/docs/dev/contributing/database/ghc-transit-time-import"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ How to run the GHC Transit Time Import and Verify Data</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/mymove-docs/docs/dev/contributing/database/tariff400ng_items-update-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Adding `ShipmentLineItem` records to the 400ng table (`tariff400ng_items`) ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#related-prs" class="table-of-contents__link">Related PRs</a></li><li><a href="#tables-that-need-to-be-updated-with-the-new-data" class="table-of-contents__link">Tables that need to be updated with the new data</a></li><li><a href="#obtain-yearly-rates-xlsx-file-from-ustranscom" class="table-of-contents__link">Obtain yearly rates <code>xlsx</code> file from USTRANSCOM</a></li><li><a href="#importing-full_packs-full_unpacks-linehauls-service_areas-and-shorthauls" class="table-of-contents__link">Importing <code>full_packs</code>, <code>full_unpacks</code>, <code>linehauls</code>, <code>service_areas</code>, and <code>shorthauls</code></a><ul><li><a href="#extract-data-from-xlsx-file-via-ruby-scripts" class="table-of-contents__link">Extract data from <code>xlsx</code> file via <code>Ruby</code> scripts</a></li><li><a href="#load-dumped-tables-into-local-database" class="table-of-contents__link">Load dumped tables into local database</a></li></ul></li><li><a href="#add-additional-sit-data-to-tariff400ng_service_areas-table" class="table-of-contents__link">Add additional <code>sit</code> data to <code>tariff400ng_service_areas</code> table</a><ul><li><a href="#adding-data" class="table-of-contents__link">Adding data</a></li></ul></li><li><a href="#importing-item_rates" class="table-of-contents__link">Importing <code>item_rates</code></a><ul><li><a href="#transform-data-from-xlsx-file" class="table-of-contents__link">Transform data from <code>xlsx</code> file</a></li><li><a href="#fix-certain-item-rates-update-weight_lbs_lower-and-update-rate_cents-for-specific-codes" class="table-of-contents__link">Fix certain item rates. Update <code>weight_lbs_lower</code> and update <code>rate_cents</code> for specific codes</a></li></ul></li><li><a href="#prepare-the-migration" class="table-of-contents__link">Prepare the migration</a></li><li><a href="#sync-zip3s-and-service-areas" class="table-of-contents__link">Sync zip3s and service areas</a></li><li><a href="#run-your-new-migrations" class="table-of-contents__link">Run your new migration(s)</a></li><li><a href="#spot-check-for-correct-data" class="table-of-contents__link">Spot check for correct data</a></li><li><a href="#test" class="table-of-contents__link">Test</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/help">Help</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/vault">Vault</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tutorial">Docusaurus Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/contributing/database">Database</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/dev/testing">Testing</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 United States Transportation Command. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.f16df87a.js"></script>
<script src="/mymove-docs/assets/js/main.a801a988.js"></script>
</body>
</html>