<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api/guides/guide-to-creating-an-endpoint">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Creating an Endpoint | MilMove Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating an Endpoint | MilMove Developer Portal"><meta data-rh="true" name="description" content="These are the various steps that are involved in creating a new endpoint."><meta data-rh="true" property="og:description" content="These are the various steps that are involved in creating a new endpoint."><link data-rh="true" rel="icon" href="/mymove-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint"><link data-rh="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint" hreflang="en"><link data-rh="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.65849403.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.2d8cf14e.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.72cd5155.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><div class="navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MilMove Documentation</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/adrs">ADRs</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/frontend">Frontend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/backend">Backend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/integrations">Integrations</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/api">API</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/tools">Tools</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/index">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mymove-docs/docs/api">MilMove API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/api/admin">Swagger Documentation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://github.com/transcom/prime_api_deliverable" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Docs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/mymove-docs/docs/api/guides/api-programming-guide">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/api-programming-guide">API Programming Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/api-errors">API Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/api-style-guide">API Style Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint">Creating an Endpoint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/api/guides/how-to-deprecate-endpoints">How to Deprecate an API Endpoint</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/api/testing/acceptance-testing-prime-api-endpoints">Testing</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/mymove-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creating an Endpoint</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Creating an Endpoint</h1><h6 class="anchor anchorWithStickyNavbar_LWe7" id="these-are-the-various-steps-that-are-involved-in-creating-a-new-endpoint">These are the various steps that are involved in creating a new endpoint.<a href="#these-are-the-various-steps-that-are-involved-in-creating-a-new-endpoint" class="hash-link" aria-label="Direct link to These are the various steps that are involved in creating a new endpoint." title="Direct link to These are the various steps that are involved in creating a new endpoint.">​</a></h6><p>Prior to creating an endpoint in the Handler folder, we must first add a new endpoint definition to swagger. We are using Swagger 2.0, which is <a href="https://swagger.io/specification/v2/" target="_blank" rel="noopener noreferrer">OpenAPI</a>, a specification we use to format our RESTful APIs and provide a template for us to communicate the information in our API.
Always start with swagger. This step creates your endpoint definition and generates the files and helper functions you will need to create your endpoint. More specifically, swagger converts JSON user input into generated Go types.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-new-entry-into-the-yaml">Adding a new entry into the yaml<a href="#adding-a-new-entry-into-the-yaml" class="hash-link" aria-label="Direct link to Adding a new entry into the yaml" title="Direct link to Adding a new entry into the yaml">​</a></h2><p>All new definitions will be added in <code>mymove/swagger-def</code>. Note that we have broken down our spec into different files and we share definitions between files.
Built compiled versions of our API spec will be generated and stored in the swagger folder, which we will not edit directly. Notice that there is a yaml file for each of our APIs.
An endpoint definition for the prime will go into the Prime yaml, but you may notice there are some definitions in <code>mymove/swagger-def/definitions</code>.
This is because some definitions are shared across APIs and we&#x27;ve created a space to add those definitions in one place.
For example, <code>Uploads.yaml</code> shares its definition across various APIs, and rather than creating various yaml files for this action, we have created one and added it to the shared <code>definitions</code> folder.</p><p>For the purposes for adding a new endpoint, make sure that your endpoint is defined in these sections:</p><ul><li><code>tags</code> - is where we group all of our endpoints by category (i.e. shipment endpoints, agent endpoints, service item endpoints, etc.).
This top level field is where our gen files will divide the endpoints into their own packages. Tag component names are <code>camelCase</code>.</li><li><code>paths</code> - defines our endpoint. Path names use <code>kebab-case</code>.</li><li><code>definitions</code> - defines the shape of the data for our endpoint. Definitions component names are <code>PascalCase</code>.</li><li><code>responses</code> - define what the endpoints return. Responses component names are <code>PascalCase</code>.</li><li><code>parameters</code> - define what an endpoint needs (e.g. headers). Parameter component names are <code>camelCase</code>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-your-local-swagger-state">Troubleshooting your local swagger state:<a href="#troubleshooting-your-local-swagger-state" class="hash-link" aria-label="Direct link to Troubleshooting your local swagger state:" title="Direct link to Troubleshooting your local swagger state:">​</a></h4><p>If you are having issues with your local swagger state it is recommended to run <code>make server_generate</code>, accept the prompt, and then run <code>make server_run</code> again. For more information on troubleshooting, <a href="https://ustcdp3.slack.com/archives/CP6PTUPQF/p1632254277386600" target="_blank" rel="noopener noreferrer">this</a> explanation will be helpful.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="defining-a-path-for-your-endpoint">Defining a path for your endpoint<a href="#defining-a-path-for-your-endpoint" class="hash-link" aria-label="Direct link to Defining a path for your endpoint" title="Direct link to Defining a path for your endpoint">​</a></h4><p>For more information about URL design and structure checkout: <a href="https://transcom.github.io/mymove-docs/docs/dev/contributing/backend/API-Style-Guide" target="_blank" rel="noopener noreferrer">API Style Guide</a></p><p>Defining your endpoint path follows this simple convention:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">    /your path:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        HTTP request:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            summary: this is the name of the action your endpoint performs, in camelCase</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            description: new convention is to reference description files in the swagger-def/info/ folder</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            operationId: this should match the endpoint title in the definitions section and summary in your paths section.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            tags: matches the tag section for this endpoint</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            produces: this field will always be application/json</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            parameters: include parameters associated with this path</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            responses: response codes for this path, and a schema reference and the description if needed.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>NOTE: The description item will reference markdown files in <code>swagger-def/info/</code>. This change is further described in a recent <a href="https://github.com/transcom/mymove/pull/7435" target="_blank" rel="noopener noreferrer">PR</a>.</p><p>An example of the <code>Moves</code> path is as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">  /moves:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    get:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      summary: listMoves</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      description:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          $ref: &#x27;info/{file_name}.md&#x27;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      operationId: listMoves</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      tags:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        - moveTaskOrder</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      produces:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        - application/json</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      parameters:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        - in: query</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          name: since</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          format: date-time</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          description: Only return moves updated since this time. Formatted like &quot;2021-07-23T18:30:47.116Z&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">      responses:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &#x27;200&#x27;:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          description: Successfully retrieved moves. A successful fetch might still return zero moves.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            $ref: &#x27;#/definitions/ListMoves&#x27;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &#x27;401&#x27;:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          $ref: &#x27;responses/PermissionDenied.yaml&#x27;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &#x27;403&#x27;:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          $ref: &#x27;responses/PermissionDenied.yaml&#x27;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        &#x27;500&#x27;:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          $ref: &#x27;#/responses/ServerError&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="description-section-and-the-response-body">Description Section and the response body<a href="#description-section-and-the-response-body" class="hash-link" aria-label="Direct link to Description Section and the response body" title="Direct link to Description Section and the response body">​</a></h4><p>In your endpoint description make sure that the following fields are included when necessary:</p><ul><li><code>required</code> - fields that are required are listed in the description section.</li><li><code>x-nullable</code> - this indicates that the value of a particular property may be
null. It will also return null if the value doesn&#x27;t exist otherwise it will be
omitted if x-nullable is false. <code>x-omitempty</code> -  this extension is good to add
and set it to false if we don&#x27;t want that field to be omitted if it is empty.</li><li><code>readOnly</code> - sometimes you will need specify a ready-only property, for
example when the property differs in a GET from a POST or PATCH. Note:
<code>readOnly</code> properties are included in responses but not in requests.</li><li><code>eTag</code> - An entity tag is provided so that a browser client or a script can
make conditional REST requests using optimistic concurrency control. All <code>eTags</code>
must be marked as <code>readOnly</code>.</li></ul><p>An example of the ListMove description is as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">      ListMove:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        description:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            $ref: &#x27;info/{file_name}.md&#x27;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        type: object</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        properties:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          id:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            example: 1f2270c7-7166-40ae-981e-b200ebdf3054</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            format: uuid</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          moveCode:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            example: &#x27;HYXFJF&#x27;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            readOnly: true</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          createdAt:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            format: date-time</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            readOnly: true</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          orderID:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            example: c56a4180-65aa-42ec-a945-5fd21dec0538</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            format: uuid</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          referenceId:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            example: 1001-3456</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          availableToPrimeAt:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            format: date-time</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            x-nullable: true</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            readOnly: true</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          updatedAt:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            format: date-time</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            readOnly: true</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          ppmType:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            enum:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">              - FULL</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">              - PARTIAL</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          ppmEstimatedWeight:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: integer</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">          eTag:</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            readOnly: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For information on error responses, check out: <a href="https://transcom.github.io/mymove-docs/docs/dev/contributing/backend/API-Errors#api-errors" target="_blank" rel="noopener noreferrer">API Errors Guide</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="gen-files">Gen files:<a href="#gen-files" class="hash-link" aria-label="Direct link to Gen files:" title="Direct link to Gen files:">​</a></h4><p>Once you finishing updating the yaml files with the new endpoint information make sure to run your make commands like <code>make swagger-generate</code> to autogenerate your swagger files, or simply run <code>make server_run</code>,
which runs your server and other useful make commands in one go.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="swagger-overview">Swagger overview<a href="#swagger-overview" class="hash-link" aria-label="Direct link to Swagger overview" title="Direct link to Swagger overview">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="swagger-architecture">Swagger Architecture<a href="#swagger-architecture" class="hash-link" aria-label="Direct link to Swagger Architecture" title="Direct link to Swagger Architecture">​</a></h3><p>Link to a pictorial view of how the Swagger packages map from <code>yaml</code> to <code>Go</code> files and functions. Highlighting <code>paths</code>,
<code>tags</code>, and <code>operationId</code>.</p><ul><li><a target="_blank" href="/mymove-docs/assets/files/SwaggerBackendArchitecture-04896085460566cade8544ee44ac5804.pdf">Link to PDF Swagger architecture</a></li></ul><p><img loading="lazy" alt="MilMove Swagger architecture PNG" src="/mymove-docs/assets/images/SwaggerBackendArchitecture-425ee8547a389e6a13a868ad18499fb5.jpg" width="5432" height="9020" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-diagram-of-how-swagger-calls-our-handler-functions">Example diagram of how Swagger calls our handler functions:<a href="#example-diagram-of-how-swagger-calls-our-handler-functions" class="hash-link" aria-label="Direct link to Example diagram of how Swagger calls our handler functions:" title="Direct link to Example diagram of how Swagger calls our handler functions:">​</a></h3><ul><li><a target="_blank" href="/mymove-docs/assets/files/MilMoveSwaggerCall-1ad30e9184211a690c310905ec498f27.pdf">Link to PDF MilMove Swagger call</a></li></ul><p><img loading="lazy" alt="MilMove Swagger call PNG" src="/mymove-docs/assets/images/MilMoveSwaggerCall-b29c3058581367926ebd4b8d6ec8a63b.png" width="3710" height="2484" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-handler">Creating a Handler:<a href="#creating-a-handler" class="hash-link" aria-label="Direct link to Creating a Handler:" title="Direct link to Creating a Handler:">​</a></h2><p>Now you&#x27;re ready to add your endpoint to the <code>handlers</code> folder. Start building out the service object before creating your handler.
For more information about service objects and when to create one: <a href="https://transcom.github.io/mymove-docs/docs/dev/contributing/backend/service-objects" target="_blank" rel="noopener noreferrer">Service Objects</a>.</p><p>An important note about service objects: The service layer is where we will store our business logic and connect to the database. Once a service object is created, it will be passed in to the handler <code>NewPrimeAPIHandler</code> function in <code>pkg/handlers/primeapi/api.go</code>,
and the handler will only be aware of the service object interface, while the service object will contain all of the rules and validations as well as accessing object from the database.</p><p>Handlers must never hit the database. Ideally, endpoint handlers are for type validations.</p><p>Handlers are also where we convert from payload (Swagger types) to model
(MilMove Go types). Generally, before calling the service object to process the
request, you would call the appropriate <code>payload_to_model.go</code> function. And
after returning from the call to the service object you would call the
appropriate <code>model_to_payload.go</code> function.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="steps-to-creating-a-new-handler">Steps to creating a new handler:<a href="#steps-to-creating-a-new-handler" class="hash-link" aria-label="Direct link to Steps to creating a new handler:" title="Direct link to Steps to creating a new handler:">​</a></h3><ol><li><strong>Add a handler for the endpoint.</strong><ul><li>Update the <code>api.go</code> file depending on which API you are updating:</li></ul></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">pkg/handlers/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    adminapi/api.go</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ghcapi/api.go</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    internalapi/api.go</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ordersapi/api.go</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    primeapi/api.go</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    supportapi/api.go</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li><p><strong>Add payload_to_model converters</strong></p><ul><li>This is a good place to check data types and null values.</li><li>Each API has a set of <code>payload_to_model.go</code> and <code>model_to_paylaod.go</code> files under the <code>internal</code> dir:</li></ul></li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">pkg/handlers/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    adminapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ghcapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    internalapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ordersapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    primeapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    supportapi/internal/payloads</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li><p><strong>model_to_payload functions</strong></p><ul><li>Once we have either modified the model or added something to our model, it must be converted back into a payload in order to be returned by the handler.</li><li>Each API has a set of <code>payload_to_model.go</code> and <code>model_to_paylaod.go</code> files under the <code>internal</code> dir:</li></ul></li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">pkg/handlers/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    adminapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ghcapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    internalapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ordersapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    primeapi/internal/payloads</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    supportapi/internal/payloads</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li><p><strong>Create handler type and Handle function</strong></p><ul><li>Handlers are stored in this area depending on which API you are updating:</li></ul></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">pkg/handlers/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    adminapi/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ghcapi/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    internalapi/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ordersapi/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    primeapi/</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    supportapi/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li><p><strong>Add tests for the handler</strong></p><ul><li>Add test code<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain"> * Use `testdatagen` functions [Understanding `Testdatagen` Functions](/mymove-docs/docs/backend/testing/understanding-testdatagen-functions)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Add mocks (only if absolutely necessary): <a href="https://transcom.github.io/mymove-docs/docs/dev/testing/writing-tests/generate-mocks-with-mockery" target="_blank" rel="noopener noreferrer">Generating Mocks with mockery</a></li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="anatomy-of-a-handler">Anatomy of a handler<a href="#anatomy-of-a-handler" class="hash-link" aria-label="Direct link to Anatomy of a handler" title="Direct link to Anatomy of a handler">​</a></h3><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>This documentation is currently in transition while handlers are being
refactored to use <code>AuditableAppContextFromRequestWithErrors</code> rather than extracting the
<code>AppContext</code> from the request.</p></div></div><p>All handlers should begin by storing the DB, logger, and/or session from the request into the <a href="/mymove-docs/docs/backend/guides/use-stateless-services-with-app-context">AppContext</a>. This is the easiest way to get all three:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">Old way to get the AppContext</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">appCtx </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">AppContextFromRequest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">HTTPRequest</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockTitle_Ktv7">New way to get the AppContext</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">AuditableAppContextFromRequestWithErrors</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">HTTPRequest</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">func</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appCtx appcontext</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">AppContext</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> middleware</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Responder </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// contents of handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The new way of using the <code>appCtx</code> is to avoid some latent bugs where the
codebase was starting transactions but not running SQL inside of the
transaction due to referencing the incorrect <code>dbconnection</code>/<code>appCtx</code> from
&quot;outside&quot; the transaction. With the addition of
<code>AuditableAppContextFromRequestWithErrors</code>, we now start a transaction and pass that into
handlers to ensure that all handlers are running inside a transaction.</p><p>This is done for multiple reasons, such as audit logging where we run
<code>RawQuery</code> to set local variables that contain the <code>userID</code> from the <code>appCtx</code>
Session.</p><p>And then this <code>appCtx</code> will be passed in as the first argument to any service object function. For example:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">shipment</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> err </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">RejectShipment</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appCtx</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> shipmentID</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> eTag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> rejectionReason</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The DB, logger, and session can then be extracted from the app context like so:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">appCtx</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DB</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">appCtx</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Logger</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">appCtx</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Session</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Below are other ways to grab the logger and session from the request, and populating the AppContext with them.</p><p>Grab just the logger:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">logger </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">LoggerFromRequest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">HTTPRequest</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>or the session and logger:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">session</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> logger </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">SessionAndLoggerFromRequest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">HTTPRequest</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, store the DB connection and logger in the
App Context:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">appCtx </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> appcontext</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NewAppContext</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DB</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you also need the session, you can do all three at once:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">appCtx </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> appcontext</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">WithSession</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appcontext</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NewAppContext</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">DB</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> session</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="validating-response-payload">Validating Response Payload<a href="#validating-response-payload" class="hash-link" aria-label="Direct link to Validating Response Payload" title="Direct link to Validating Response Payload">​</a></h3><p>We need to ensure that the data that is being returned from the
handler matches what is defined in the swagger definition.</p><p>In your tests you should call <code>Validate</code> on the payload.  Something
like ...</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">    handler </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> ListMovesHandler</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">HandlerConfig</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> context</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> MoveTaskOrderFetcher</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> movetaskorder</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NewMoveTaskOrderFetcher</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    response </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> handler</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Handle</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    suite</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">IsNotErrResponse</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    listMovesResponse </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> response</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">*</span><span class="token plain">movetaskorderops</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">ListMovesOK</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    movesList </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> listMovesResponse</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Payload</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// Validate the payload response</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#ffffff"><span class="token plain">    suite</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NoError</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">movesList</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Validate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">strfmt</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authorization">Authorization<a href="#authorization" class="hash-link" aria-label="Direct link to Authorization" title="Direct link to Authorization">​</a></h3><p>You&#x27;ll notice that many handlers perform authorization within the handler, such as:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!</span><span class="token plain">session</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">IsOfficeUser</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">||</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!</span><span class="token plain">session</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Roles</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">HasRole</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">roles</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">RoleTypeTOO</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    logger</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Error</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;Only TOO role can reject shipments&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> shipmentops</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NewRejectShipmentForbidden</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This duplicated logic can be extracted into a service object. Perhaps something like this:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">func</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">f </span><span class="token operator" style="color:#d7deea">*</span><span class="token plain">authorization</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">TOOAuthorized</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appCtx appcontext</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">AppContext</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token builtin" style="color:#D8DEE9">bool</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  session </span><span class="token operator" style="color:#d7deea">:=</span><span class="token plain"> appCtx</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Session</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> session</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">IsOfficeUser</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;&amp;</span><span class="token plain"> session</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Roles</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">HasRole</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">roles</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">RoleTypeTOO</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and then the handler would be updated like this:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">!</span><span class="token plain">h</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">TOOAuthorized</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">appCtx</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  logger</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">Error</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;Only TOO role can reject shipments&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> shipmentops</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NewRejectShipmentForbidden</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-the-handler-to-the-service-object">Connecting the Handler to the Service Object:<a href="#connecting-the-handler-to-the-service-object" class="hash-link" aria-label="Direct link to Connecting the Handler to the Service Object:" title="Direct link to Connecting the Handler to the Service Object:">​</a></h3><p>Once you create your handler type and Handle function, it can be added to <code>api.go</code>.
This file is also where you can connect your service object to the handler.
For example, our ListsMoves Handler will be passed the service object interface as follows:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token plain">primeAPI</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">MoveTaskOrderListMovesHandler </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> ListMovesHandler</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    movetaskorder</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">NewMoveTaskOrderFetcher</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additionally in your file containing the handler make sure to pass in the services to your struct:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">type</span><span class="token plain"> ListMovesHandler </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    handlers</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">HandlerConfig</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    services</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">MoveTaskOrderFetcher</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-handle-errors">How to handle errors<a href="#how-to-handle-errors" class="hash-link" aria-label="Direct link to How to handle errors" title="Direct link to How to handle errors">​</a></h3><p>For more information on how we handle errors,  check out our detailed <a href="https://github.com/transcom/mymove-docs/blob/720592c63db4bffe402a801417f7c14772573c28/docs/dev/contributing/backend/API-Errors.md" target="_blank" rel="noopener noreferrer">documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-event-key-and-update-event-map">Add event key and update event map<a href="#add-event-key-and-update-event-map" class="hash-link" aria-label="Direct link to Add event key and update event map" title="Direct link to Add event key and update event map">​</a></h3><p>Each API has a corresponding file in <code>/pkg/services/event/&lt;apiName&gt;_endpoint.go</code></p><ol><li>Add new <code>const</code> to represent event key</li><li>Add event key to endpoint map in the same file, using the event key name, api name, and operation ID.</li></ol><p>An example of an event key for MoveTaskOrder Create Handler is as follows:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// MoveTaskOrderCreateEventKey is a key containing MoveTaskOrder.Create</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> MoveTaskOrderCreateEventKey KeyType </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;MoveTaskOrder.Create&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The event would be added to the event map called eventModels:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">var</span><span class="token plain"> eventModels </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">map</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain">KeyType</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain">eventModel</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    EndpointEventKey</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">                    </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">EndpointEventKey</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// this is an example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    NewEndpointEventKey</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">                 </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">NewEndpointEventKey</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Model</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// this is an example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    MoveTaskOrderCreateEventKey</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain">         </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain">MoveTaskOrderCreateEventKey</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> models</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">Move</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you&#x27;d like to learn more about event triggers, you can find more details <a href="https://github.com/transcom/mymove-docs/blob/720592c63db4bffe402a801417f7c14772573c28/docs/dev/contributing/backend/How-to-Add-an-Event-Trigger.md" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References:<a href="#references" class="hash-link" aria-label="Direct link to References:" title="Direct link to References:">​</a></h2><ul><li><a href="/mymove-docs/docs/backend/testing/acceptance-testing-payment-requests">Acceptance testing payment requests</a></li><li><a href="/mymove-docs/docs/frontend/guides/access-swagger-endpoints-from-react">How To Call Swagger Endpoints from React</a></li><li><a href="/mymove-docs/docs/api/testing/acceptance-testing-prime-api-endpoints">Acceptance Testing Prime API</a></li><li><a href="/mymove-docs/docs/api/guides/how-to-deprecate-endpoints">How to Deprecate an API Endpoint</a></li><li><a href="/mymove-docs/docs/api/testing/how-to-test-the-prime-api">How to Test the Prime API</a></li><li><a href="/mymove-docs/docs/api/guides/guide-to-creating-an-endpoint">Creating an Endpoint</a></li><li><a href="https://goswagger.io/tutorial/todo-list.html" target="_blank" rel="noopener noreferrer">Swagger tutorial</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/api/guides/guide-to-creating-an-endpoint.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mymove-docs/docs/api/guides/api-style-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API Style Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mymove-docs/docs/api/guides/how-to-deprecate-endpoints"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to Deprecate an API Endpoint</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#adding-a-new-entry-into-the-yaml" class="table-of-contents__link toc-highlight">Adding a new entry into the yaml</a></li><li><a href="#swagger-overview" class="table-of-contents__link toc-highlight">Swagger overview</a><ul><li><a href="#swagger-architecture" class="table-of-contents__link toc-highlight">Swagger Architecture</a></li><li><a href="#example-diagram-of-how-swagger-calls-our-handler-functions" class="table-of-contents__link toc-highlight">Example diagram of how Swagger calls our handler functions:</a></li></ul></li><li><a href="#creating-a-handler" class="table-of-contents__link toc-highlight">Creating a Handler:</a><ul><li><a href="#steps-to-creating-a-new-handler" class="table-of-contents__link toc-highlight">Steps to creating a new handler:</a></li><li><a href="#anatomy-of-a-handler" class="table-of-contents__link toc-highlight">Anatomy of a handler</a></li><li><a href="#validating-response-payload" class="table-of-contents__link toc-highlight">Validating Response Payload</a></li><li><a href="#authorization" class="table-of-contents__link toc-highlight">Authorization</a></li><li><a href="#connecting-the-handler-to-the-service-object" class="table-of-contents__link toc-highlight">Connecting the Handler to the Service Object:</a></li><li><a href="#how-to-handle-errors" class="table-of-contents__link toc-highlight">How to handle errors</a></li><li><a href="#add-event-key-and-update-event-map" class="table-of-contents__link toc-highlight">Add event key and update event map</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About MilMove</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/adrs">Architecture Decision Records</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tools">Tools</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">MilMove Documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="footer__link-item">MilMove GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2023  U.S. Federal Government (in countries where recognized) and TrussWorks. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.2d8cf14e.js"></script>
<script src="/mymove-docs/assets/js/main.72cd5155.js"></script>
</body>
</html>