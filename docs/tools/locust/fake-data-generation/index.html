<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tools/locust/fake-data-generation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Fake Data Generation | MilMove Developer Portal</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://transcom.github.io/mymove-docs/docs/tools/locust/fake-data-generation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fake Data Generation | MilMove Developer Portal"><meta data-rh="true" name="description" content="We have several helpers to generate fake data for requests, allowing us to create more dynamic"><meta data-rh="true" property="og:description" content="We have several helpers to generate fake data for requests, allowing us to create more dynamic"><link data-rh="true" rel="icon" href="/mymove-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://transcom.github.io/mymove-docs/docs/tools/locust/fake-data-generation"><link data-rh="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/tools/locust/fake-data-generation" hreflang="en"><link data-rh="true" rel="alternate" href="https://transcom.github.io/mymove-docs/docs/tools/locust/fake-data-generation" hreflang="x-default"><link rel="stylesheet" href="/mymove-docs/assets/css/styles.65849403.css">
<link rel="preload" href="/mymove-docs/assets/js/runtime~main.cb78340e.js" as="script">
<link rel="preload" href="/mymove-docs/assets/js/main.70764974.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mymove-docs/"><div class="navbar__logo"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/mymove-docs/img/logo.svg" alt="MilMove Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">MilMove Documentation</b></a><a class="navbar__item navbar__link" href="/mymove-docs/docs/about/">About</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/adrs">ADRs</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/frontend">Frontend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/backend">Backend</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/integrations">Integrations</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/api">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mymove-docs/docs/tools">Tools</a><a class="navbar__item navbar__link" href="/mymove-docs/docs/help/index">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">mymove<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mymove-docs/docs/tools">MilMove Tools</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/cicd">CI/CD</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/dockerfile/dockerfile-use,-purpose,-and-documentation">Dockerfile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/docusaurus/">Docusaurus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/mymove-docs/docs/tools/locust/">Locust</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/">Locust</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/running-load-tests">Running Load Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/running-locust-locally">Running Locust Locally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/local-load-test-setup">Local Load Test Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/running-locust-from-aws">Running Locust from AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/working-with-load-tests">Working With Load Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/locustfile">Locustfile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/taskset">TaskSet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/adding-or-editing-load-tests">Adding or Editing Load Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mymove-docs/docs/tools/locust/fake-data-generation">Fake Data Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mymove-docs/docs/tools/locust/api-parsers">API Parsers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/mockery/generate-mocks-with-mockery">Mockery</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/postman/setting-up-postman">Postman</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/schemaspy/">SchemaSpy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mymove-docs/docs/tools/telemetry/running-telemetry-locally">Telemetry</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/mymove-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Locust</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Fake Data Generation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Fake Data Generation</h1><p>We have several helpers to generate fake data for requests, allowing us to create more dynamic
bodies and simulating varied user input/behavior. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fake-api-data-generator">Fake API Data Generator<a href="#fake-api-data-generator" class="hash-link" aria-label="Direct link to Fake API Data Generator" title="Direct link to Fake API Data Generator">​</a></h2><p>We have a function called <code>get_api_fake_data_generator</code> that will return an object you can use to generate fake API
data.</p><p>Here is what it would look like to use the fake data generator in a <code>TaskSet</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"># -*- coding: utf-8 -*-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Example of a TaskSet file using the fake data generator...</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> random</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> http </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> HTTPStatus</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> locust </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> task</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">constants </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> ZERO_UUID</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">parsers </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> APIKey</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> get_api_fake_data_generator</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">request </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> log_response_failure</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> log_response_info</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">rest </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> RestResponseContextManager</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">task </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> RestTaskSet</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">types </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> JSONArray</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> JSONObject</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">logger </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">fake_data_generator </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> get_api_fake_data_generator</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999"># tags are useful to add at a TaskSet and task level to enable running only specific load tests.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#8dc891">@tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;support&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SupportTasks</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">RestTaskSet</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    Description of the flow for these tasks here.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#8dc891">@task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">stop</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        This ensures that at some point, the user will stop running the tasks in this task set.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">interrupt</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#8dc891">@tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&#x27;createMTOShipment&#x27;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#8dc891">@task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">create_mto_shipment</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        Create a shipment on a move.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># First we&#x27;ll need a move to work with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        moves_path</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> request_kwargs </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">request_preparer</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">prep_prime_request</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">endpoint</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/moves&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">with</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">rest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">method</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;GET&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> url</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">moves_path</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">request_kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">as</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token comment" style="color:#999999"># This will let our editors know that we expect `resp` to be an instance of</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token comment" style="color:#999999"># `RestResponseContextManager`, which then lets it know what type hints to suggest below.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            resp</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> RestResponseContextManager</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token comment" style="color:#999999"># This function helps us log the response status code uniformly across requests.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            log_response_info</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">resp</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">status_code </span><span class="token operator" style="color:#d7deea">==</span><span class="token plain"> HTTPStatus</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">OK</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                moves</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> JSONArray </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">js</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">else</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                </span><span class="token comment" style="color:#999999"># if you wanted to, you could mark this load test as a failure by doing this:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                resp</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">failure</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;No moves found!&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                </span><span class="token comment" style="color:#999999"># This function helps us log info about the response and request when there are errors.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                log_response_failure</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">resp</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># You can filter more if you need a specific move</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        move_to_use </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> random</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">choice</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">moves</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># The fake data generator allows us to define overrides if there are specific values we want (or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># don&#x27;t want) it to use.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># We&#x27;ll set the move ID and set a few other IDs to be a ZERO_UUID value because we want it to</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># create those objects and thus can&#x27;t use a non-zero UUID. We&#x27;re also setting the agents to</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># empty list for simplicity here, but in our real version there&#x27;s more to it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        overrides </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;moveTaskOrderID&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> move_to_use</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token string" style="color:#8dc891">&#x27;id&#x27;</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;agents&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;pickupAddress&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token string" style="color:#8dc891">&quot;id&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> ZERO_UUID</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;destinationAddress&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token string" style="color:#8dc891">&quot;id&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> ZERO_UUID</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;mtoServiceItems&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># Now we can use the fake data generator to generate the fake request data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        payload </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> fake_data_generator</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">generate_fake_request_data</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            api_key</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">APIKey</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">PRIME</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain">  </span><span class="token comment" style="color:#999999"># This tells the generator which API spec to look at.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            path</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/mto-shipments&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            method</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;post&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            overrides</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">overrides</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># Now we can make our request:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        create_shipment_path</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> request_kwargs </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">request_preparer</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">prep_prime_request</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">endpoint</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;/mto-shipments&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># The `generate_fake_request_data` method returns a JSONType object which can be used in our</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># request as the data payload.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">with</span><span class="token plain"> self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">rest</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">method</span><span class="token operator" style="color:#d7deea">=</span><span class="token string" style="color:#8dc891">&quot;POST&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> url</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">create_shipment_path</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> data</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">payload</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">**</span><span class="token plain">request_kwargs</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">as</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            resp</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> RestResponseContextManager</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            log_response_info</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">response</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">resp</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token comment" style="color:#999999"># Do whatever else you need to here.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>get_api_fake_data_generator</code> does not need to be used in the context of a <code>TaskSet</code> so you can use
it wherever you want. It caches the fake data generator so this means that even if you use it in
multiple places, only the first call to it will parse the API files (which is slow).</p><p>You can read more about the internals of the fake API data generator in the <a href="/mymove-docs/docs/tools/locust/api-parsers">API Parsers</a> page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="base-fake-data-generator">Base Fake Data Generator<a href="#base-fake-data-generator" class="hash-link" aria-label="Direct link to Base Fake Data Generator" title="Direct link to Base Fake Data Generator">​</a></h2><p>One downside to the fake API data generator is that it will generate data for a given endpoint including all the
available fields. This can be an issue if you are trying to emulate a flow that hits the same endpoint multiple times,
e.g. customer on-boarding uses the same endpoint and gradually calls it with new info each time. For cases like this, it
is more useful to use a more basic data generator, <code>utils.fake_data.MilMoveData</code>. This class uses a combination of
<code>faker</code> and custom providers to generate appropriate fake data. It is the class that the fake API data generator uses at
a lower level, and so it can be good to use it to generate more consistent data that accounts for our needs.</p><p>To use it, you would import it and initialize the class (without arguments). Then you can use its
<code>get_fake_data_for_type</code> method to generate specific types of data, e.g. a first name, or a phone number. You pass the
type of data you expect as an argument, using the <code>enum</code> <code>utils.constants.DataType</code> defining the type you want. Here is
a small example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999"># -*- coding: utf-8 -*-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">Example of a task using MilMoveData</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> http </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> HTTPStatus</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> Optional</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> locust </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> task</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">auth </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> UserType</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> create_user</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">constants </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> DataType</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">fake_data </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> MilMoveData</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">request </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> log_response_failure</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> log_response_info</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">rest </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> RestResponseContextManager</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">task </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> RestTaskSet</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">from</span><span class="token plain"> utils</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">types </span><span class="token keyword" style="color:#c5a5c5">import</span><span class="token plain"> JSONArray</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> JSONObject</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">logger </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">class</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">MilMoveTasks</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">RestTaskSet</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    Set of tasks that can be called for the MilMove interface.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">on_start</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        Creates a login right at the start of the TaskSet and stops task execution if the login fails.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        success </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> create_user</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">request_preparer</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">request_preparer</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> session</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> user_type</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">UserType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">MILMOVE</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">not</span><span class="token plain"> success</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            logger</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">error</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;Failed to create a user&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">interrupt</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#8dc891">@task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">stop</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        This ensures that at some point, the user will stop running the tasks in this task set.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">interrupt</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#8dc891">@tag</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;onboardCustomerWorkflow&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token decorator annotation punctuation" style="color:#8dc891">@task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">def</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">onboard_customer</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">None</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#8dc891">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        Goes through the basic on-boarding flow for a customer.</span><br></span><span class="token-line" style="color:#ffffff"><span class="token triple-quoted-string string" style="color:#8dc891">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># For the sake of brevity, we&#x27;ll hard-code a fake ID here, but in a real test you&#x27;d have to get this.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        service_member_id </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;149UYM-THIA90-3450IU&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># initialize the fake data class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        milmove_faker </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> MilMoveData</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># we&#x27;re going to skip the first onboarding step because we don&#x27;t need the generator for it, but here is the </span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># setup of the payload for the next step, which would use the generator:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        payload </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;id&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> service_member_id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;first_name&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> milmove_faker</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_fake_data_for_type</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">data_type</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">FIRST_NAME</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;middle_name&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> milmove_faker</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_fake_data_for_type</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">data_type</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">FIRST_NAME</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;last_name&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> milmove_faker</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">get_fake_data_for_type</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">data_type</span><span class="token operator" style="color:#d7deea">=</span><span class="token plain">DataType</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">LAST_NAME</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token string" style="color:#8dc891">&quot;suffix&quot;</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999"># Then you can use the payload.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><ul><li><a href="https://faker.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener noreferrer">Faker Documentation</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/transcom/mymove-docs/edit/main/docs/tools/locust/fake-data-generation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mymove-docs/docs/tools/locust/adding-or-editing-load-tests"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Adding or Editing Load Tests</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mymove-docs/docs/tools/locust/api-parsers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Parsers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fake-api-data-generator" class="table-of-contents__link toc-highlight">Fake API Data Generator</a></li><li><a href="#base-fake-data-generator" class="table-of-contents__link toc-highlight">Base Fake Data Generator</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/about">About MilMove</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/adrs">Architecture Decision Records</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/frontend">Frontend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/backend">Backend</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/mymove-docs/docs/tools">Tools</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/transcom/mymove-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">MilMove Documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/transcom/mymove" target="_blank" rel="noopener noreferrer" class="footer__link-item">MilMove GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2023  U.S. Federal Government (in countries where recognized) and TrussWorks. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mymove-docs/assets/js/runtime~main.cb78340e.js"></script>
<script src="/mymove-docs/assets/js/main.70764974.js"></script>
</body>
</html>